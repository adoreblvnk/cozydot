metadata:
  description: Lightweight config with minimal utilities / apps installed.
  distro: auto # auto | ubuntu | debian | linuxmint
  DE: auto     # auto | gnome | cinnamon
check:
  distroCfg: true # supports ubuntu / debian / linuxmint
  purge: !disabled
    # docker installed via aptAltSources
    - docker.io
    - docker-doc
    - docker-compose
    - docker-compose-v2
    - podman-docker
    - containerd
    - runc
    - "*firefox*"     # firefox installed via aptAltSources
    - "*libreoffice*" # libreoffice replaced with onlyoffice
  deps: !enabled
    # essential packages
    - apt-transport-https
    - bash-completion
    - build-essential
    - ca-certificates
    - cmake
    - curl
    - ffmpeg
    - flatpak
    - git
    - software-properties-common
    - stow
    - ttf-mscorefonts-installer
    # pyenv dependencies
    - libbz2-dev
    - libffi-dev
    - liblzma-dev
    - libncurses-dev # libncursesw5-dev is a transitional pkg
    - libreadline-dev
    - libsqlite3-dev
    - libssl-dev
    - libxml2-dev
    - libxmlsec1-dev
    - tk-dev
    - xz-utils
    - zlib1g-dev
    # imagemagick dependencies
    - libjpeg-dev
    - libpng-dev
    - libtiff-dev
    # docker dependencies
    - lsb-release
    # cargo-update dependencies
    - libgit2-dev
    - libssh-dev
    - libssl-dev
    - pkgconf
    # alacritty dependencies
    - libfontconfig1-dev
    - libfreetype-dev # libfreetype6-dev is a transitional pkg
    - libxcb-xfixes0-dev
    - libxkbcommon-dev
    # - pkg-config # NOTE: pkgconf breaks pkg-config (>= 0.29-1)
  python: !enabled
    pyenvUpdate: false
    version: latest # latest | <major>[.<minor>]
    pip: false
  rustupCheck: true
  appimaged: true
  nerdfont: !enabled GeistMono # https://www.nerdfonts.com/font-downloads
install:
  check: true
  apt: !enabled
    # CLI utils
    - fzf         # fuzzy finder
    - gnupg2
    - openssh-server
    - pass
    - trash-cli
    - vim
    # multimedia
    - imagemagick # image converter
    - pandoc      # document converter
    - vlc
  addRepos: !enabled
    - sourceName: mozilla
      remoteKey: https://packages.mozilla.org/apt/repo-signing-key.gpg
      keyPath: /etc/apt/keyrings/packages.mozilla.org.asc
      repo: deb [signed-by=/etc/apt/keyrings/packages.mozilla.org.asc] https://packages.mozilla.org/apt mozilla main
      pinning: |-
        Package: *
        Pin: origin packages.mozilla.org
        Pin-Priority: 1000
      packages:
        - firefox
    - sourceName: vscode
      remoteKey: https://packages.microsoft.com/keys/microsoft.asc
      keyPath: /etc/apt/keyrings/packages.microsoft.gpg
      repo: deb [arch=amd64,arm64,armhf signed-by=/etc/apt/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main
      pinning: false
      packages:
        - code
  flatpak: !enabled
    - com.discordapp.Discord
    - org.qbittorrent.qBittorrent
  cargo: !enabled
    - alacritty
    - bat --locked      # cat replacement
    - bottom --locked   # process / system monitor
    - eza               # ls replacement
    - macchina          # system info
    - starship --locked
    - zellij --locked
    - zoxide --locked   # smarter cd command
  binaries: !enabled
    - name: git-credential-manager.deb
      url: $(curl -sSL https://api.github.com/repos/git-ecosystem/git-credential-manager/releases/latest | yq '.assets[].browser_download_url | select(. == "*deb")')      
    - name: Obsidian.AppImage
      url: $(curl -sSL https://api.github.com/repos/obsidianmd/obsidian-releases/releases/latest | yq '.assets[].browser_download_url | select(. == "*AppImage" and . != "*arm64*")')
  languages:
    goVersion: !enabled latest   # latest | <major>.<minor>.<patch>
    nodeVersion: !enabled latest # latest | <major>[.<minor>[.<patch>]]
update:
  check: true
  apt: !enabled
    aptFull: false
  flatpak: true
  cargo: false
  other:
    yq: true
    go: false
    node: false
    zellijClear: true
configure:
  check: true
  dotfiles: !enabled
    stowMode: override # override | backup
    packages:
      - bash
      - alacritty
      - bat
      - bottom
      - macchina
      - starship
      - vscode
      - zellij
  apps:
    alacritty: true
    docker: false
    virtualbox: false
    vscode:
      extensions: !enabled
        - catppuccin.catppuccin-vsc
        - visualstudioexptteam.intellicode-api-usage-examples
        - visualstudioexptteam.vscodeintellicode
  optimisations: !disabled
    auto-cpufreq: false
  DE: !enabled
    cinnamon:
      defaultTerm: !enabled alacritty
      plankDock: true
      panelToMenuBar: true
      gTile: true
    gnome:
      settings: true
      extensions: !enabled
        # - dash-to-dock@micxgx.gmail.com # Ubuntu already has a conflicting pkg
        - blur-my-shell@aunetx
        - netspeedsimplified@prateekmedia.extension
        - rounded-window-corners@fxgn
      defaultTerm: !enabled alacritty
      MacOSDock: true
      smoothRoundedCorners: true
